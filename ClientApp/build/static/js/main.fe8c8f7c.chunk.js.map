{"version":3,"sources":["constants/actionTypes.js","components/ArticlePreview.js","components/ListPagination.js","components/ArticleList.js","agent.js","components/Home/index.js","components/Home/Banner.js","components/Home/MainView.js","components/Home/Tags.js","middleware.js","reducers/common.js","reducer.js","reducers/article.js","reducers/articleList.js","reducers/auth.js","reducers/editor.js","reducers/home.js","reducers/profile.js","reducers/settings.js","store.js","components/Header.js","components/Article/ArticleActions.js","components/Article/ArticleMeta.js","components/Article/CommentInput.js","components/Article/DeleteButton.js","components/Article/Comment.js","components/Article/CommentList.js","components/Article/CommentContainer.js","components/Article/index.js","components/ListErrors.js","components/Editor.js","components/Login.js","components/Profile.js","components/ProfileFavorites.js","components/Register.js","components/Settings.js","components/App.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","APP_LOAD","REDIRECT","ARTICLE_SUBMITTED","SETTINGS_SAVED","DELETE_ARTICLE","SETTINGS_PAGE_UNLOADED","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","ARTICLE_PAGE_LOADED","ARTICLE_PAGE_UNLOADED","ADD_COMMENT","DELETE_COMMENT","ARTICLE_FAVORITED","ARTICLE_UNFAVORITED","SET_PAGE","APPLY_TAG_FILTER","CHANGE_TAB","PROFILE_PAGE_LOADED","PROFILE_PAGE_UNLOADED","LOGIN","LOGOUT","REGISTER","LOGIN_PAGE_UNLOADED","REGISTER_PAGE_UNLOADED","ASYNC_START","ASYNC_END","EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_AUTH","UPDATE_FIELD_EDITOR","FOLLOW_USER","UNFOLLOW_USER","PROFILE_FAVORITES_PAGE_UNLOADED","PROFILE_FAVORITES_PAGE_LOADED","connect","dispatch","favorite","slug","type","payload","agent","Articles","unfavorite","props","article","favoriteButtonClass","favorited","react_default","a","createElement","className","es","to","concat","author","username","src","image","alt","Date","createdAt","toDateString","onClick","ev","preventDefault","favoritesCount","title","description","tagList","map","tag","key","onSetPage","page","articlesCount","range","i","Math","ceil","push","v","isCurrent","currentPage","pager","all","toString","href","ArticleList","articles","length","components_ArticlePreview","components_ListPagination","global","superagent_promise__WEBPACK_IMPORTED_MODULE_0__","superagent_promise__WEBPACK_IMPORTED_MODULE_0___default","n","superagent__WEBPACK_IMPORTED_MODULE_1__","superagent__WEBPACK_IMPORTED_MODULE_1___default","superagent","superagentPromise","_superagent","Promise","API_ROOT","encode","encodeURIComponent","responseBody","res","body","token","tokenPlugin","req","set","requests","url","del","use","then","get","put","post","Auth","current","login","email","password","user","register","save","Tags","getAll","limit","count","p","omitSlug","Object","assign","undefined","byAuthor","byTag","favoritedBy","feed","update","create","Comments","comment","delete","commentId","forArticle","Profile","follow","unfollow","setToken","_token","Home","tab","this","articlesPromise","onLoad","onUnload","react__WEBPACK_IMPORTED_MODULE_8___default","_Banner__WEBPACK_IMPORTED_MODULE_6__","appName","_MainView__WEBPACK_IMPORTED_MODULE_7__","_Tags__WEBPACK_IMPORTED_MODULE_9__","tags","onClickTag","React","Component","state","_home_diogonc_projetos_coreFinance_ClientApp_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","home","common","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","Banner","_ref","toLowerCase","YourFeedTab","react__WEBPACK_IMPORTED_MODULE_2___default","onTabClick","GlobalFeedTab","TagFilterTab","_home_diogonc_projetos_coreFinance_ClientApp_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","articleList","_ArticleList__WEBPACK_IMPORTED_MODULE_1__","loading","_agent__WEBPACK_IMPORTED_MODULE_1__","promiseMiddleware","store","next","action","subtype","currentView","getState","viewChangeCounter","skipTracking","currentState","console","log","promise","error","response","localStorageMiddleware","window","localStorage","setItem","defaultState","combineReducers","arguments","objectSpread","comments","commentErrors","errors","filter","id","auth","inProgress","defineProperty","value","appLoaded","currentUser","redirectTo","redirectUrl","editor","articleSlug","tagInput","profile","settings","router","routerReducer","history","createHistory","myRouterMiddleware","routerMiddleware","createStore","reducer","composeWithDevTools","applyMiddleware","LoggedOutView","react_router_dom_es","LoggedInView","Header","Header_LoggedOutView","Header_LoggedInView","onClickDelete","canModify","ArticleMeta","Article_ArticleActions","CommentInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setBody","setState","target","createComment","onSubmit","placeholder","onChange","rows","show","Comment","Article_DeleteButton","CommentList","Article_Comment","CommentContainer","Article_CommentInput","Article_CommentList","Article","match","params","markup","__html","marked","sanitize","Article_ArticleMeta","dangerouslySetInnerHTML","Article_CommentContainer","ListErrors","keys","Editor","updateFieldEvent","onUpdateField","changeTitle","changeDescription","changeBody","changeTagInput","watchForEnter","keyCode","onAddTag","removeTagHandler","onRemoveTag","submitForm","nextProps","_this2","components_ListErrors","onKeyUp","disabled","Login","changeEmail","onChangeEmail","changePassword","onChangePassword","EditProfileSettings","isUser","FollowUserButton","classes","following","mapStateToProps","bio","Profile_EditProfileSettings","Profile_FollowUserButton","onFollow","onUnfollow","renderTabs","ProfileFavorites","Register","changeUsername","onChangeUsername","SettingsForm","updateState","field","newState","onSubmitForm","Settings","Settings_SettingsForm","onClickLogout","App","onRedirect","getItem","components_Header","exact","path","component","ReactDOM","render","react_router_redux_es","document","getElementById"],"mappings":"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","file":"static/js/main.fe8c8f7c.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\nexport const REDIRECT = 'REDIRECT';\nexport const ARTICLE_SUBMITTED = 'ARTICLE_SUBMITTED';\nexport const SETTINGS_SAVED = 'SETTINGS_SAVED';\nexport const DELETE_ARTICLE = 'DELETE_ARTICLE';\nexport const SETTINGS_PAGE_UNLOADED = 'SETTINGS_PAGE_UNLOADED';\nexport const HOME_PAGE_LOADED = 'HOME_PAGE_LOADED';\nexport const HOME_PAGE_UNLOADED = 'HOME_PAGE_UNLOADED';\nexport const ARTICLE_PAGE_LOADED = 'ARTICLE_PAGE_LOADED';\nexport const ARTICLE_PAGE_UNLOADED = 'ARTICLE_PAGE_UNLOADED';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const ARTICLE_FAVORITED = 'ARTICLE_FAVORITED';\nexport const ARTICLE_UNFAVORITED = 'ARTICLE_UNFAVORITED';\nexport const SET_PAGE = 'SET_PAGE';\nexport const APPLY_TAG_FILTER = 'APPLY_TAG_FILTER';\nexport const CHANGE_TAB = 'CHANGE_TAB';\nexport const PROFILE_PAGE_LOADED = 'PROFILE_PAGE_LOADED';\nexport const PROFILE_PAGE_UNLOADED = 'PROFILE_PAGE_UNLOADED';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const REGISTER = 'REGISTER';\nexport const LOGIN_PAGE_UNLOADED = 'LOGIN_PAGE_UNLOADED';\nexport const REGISTER_PAGE_UNLOADED = 'REGISTER_PAGE_UNLOADED';\nexport const ASYNC_START = 'ASYNC_START';\nexport const ASYNC_END = 'ASYNC_END';\nexport const EDITOR_PAGE_LOADED = 'EDITOR_PAGE_LOADED';\nexport const EDITOR_PAGE_UNLOADED = 'EDITOR_PAGE_UNLOADED';\nexport const ADD_TAG = 'ADD_TAG';\nexport const REMOVE_TAG = 'REMOVE_TAG';\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\nexport const UPDATE_FIELD_EDITOR = 'UPDATE_FIELD_EDITOR';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\nexport const PROFILE_FAVORITES_PAGE_UNLOADED = 'PROFILE_FAVORITES_PAGE_UNLOADED';\nexport const PROFILE_FAVORITES_PAGE_LOADED = 'PROFILE_FAVORITES_PAGE_LOADED';","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { ARTICLE_FAVORITED, ARTICLE_UNFAVORITED } from '../constants/actionTypes';\n\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary';\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary';\n\nconst mapDispatchToProps = dispatch => ({\n  favorite: slug => dispatch({\n    type: ARTICLE_FAVORITED,\n    payload: agent.Articles.favorite(slug)\n  }),\n  unfavorite: slug => dispatch({\n    type: ARTICLE_UNFAVORITED,\n    payload: agent.Articles.unfavorite(slug)\n  })\n});\n\nconst ArticlePreview = props => {\n  const article = props.article;\n  const favoriteButtonClass = article.favorited ?\n    FAVORITED_CLASS :\n    NOT_FAVORITED_CLASS;\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (article.favorited) {\n      props.unfavorite(article.slug);\n    } else {\n      props.favorite(article.slug);\n    }\n  };\n\n  return (\n    <div className=\"article-preview\">\n      <div className=\"article-meta\">\n        <Link to={`/@${article.author.username}`}>\n          <img src={article.author.image} alt={article.author.username} />\n        </Link>\n\n        <div className=\"info\">\n          <Link className=\"author\" to={`/@${article.author.username}`}>\n            {article.author.username}\n          </Link>\n          <span className=\"date\">\n            {new Date(article.createdAt).toDateString()}\n          </span>\n        </div>\n\n        <div className=\"pull-xs-right\">\n          <button className={favoriteButtonClass} onClick={handleClick}>\n            <i className=\"ion-heart\"></i> {article.favoritesCount}\n          </button>\n        </div>\n      </div>\n\n      <Link to={`/article/${article.slug}`} className=\"preview-link\">\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className=\"tag-list\">\n          {\n            article.tagList.map(tag => {\n              return (\n                <li className=\"tag-default tag-pill tag-outline\" key={tag}>\n                  {tag}\n                </li>\n              )\n            })\n          }\n        </ul>\n      </Link>\n    </div>\n  );\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(ArticlePreview);\n","import React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { SET_PAGE } from '../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onSetPage: (page, payload) =>\n    dispatch({ type: SET_PAGE, page, payload })\n});\n\nconst ListPagination = props => {\n  if (props.articlesCount <= 10) {\n    return null;\n  }\n\n  const range = [];\n  for (let i = 0; i < Math.ceil(props.articlesCount / 10); ++i) {\n    range.push(i);\n  }\n\n  const setPage = page => {\n    if(props.pager) {\n      props.onSetPage(page, props.pager(page));\n    }else {\n      props.onSetPage(page, agent.Articles.all(page))\n    }\n  };\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n\n        {\n          range.map(v => {\n            const isCurrent = v === props.currentPage;\n            const onClick = ev => {\n              ev.preventDefault();\n              setPage(v);\n            };\n            return (\n              <li\n                className={ isCurrent ? 'page-item active' : 'page-item' }\n                onClick={onClick}\n                key={v.toString()}>\n\n                <a className=\"page-link\" href=\"\">{v + 1}</a>\n\n              </li>\n            );\n          })\n        }\n\n      </ul>\n    </nav>\n  );\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(ListPagination);\n","import ArticlePreview from './ArticlePreview';\nimport ListPagination from './ListPagination';\nimport React from 'react';\n\nconst ArticleList = props => {\n  if (!props.articles) {\n    return (\n      <div className=\"article-preview\">Loading...</div>\n    );\n  }\n\n  if (props.articles.length === 0) {\n    return (\n      <div className=\"article-preview\">\n        No articles are here... yet.\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {\n        props.articles.map(article => {\n          return (\n            <ArticlePreview article={article} key={article.slug} />\n          );\n        })\n      }\n\n      <ListPagination\n        pager={props.pager}\n        articlesCount={props.articlesCount}\n        currentPage={props.currentPage} />\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import superagentPromise from 'superagent-promise';\nimport _superagent from 'superagent';\n\nconst superagent = superagentPromise(_superagent, global.Promise);\n\nconst API_ROOT = 'https://conduit.productionready.io/api';\n\nconst encode = encodeURIComponent;\nconst responseBody = res => res.body;\n\nlet token = null;\nconst tokenPlugin = req => {\n  if (token) {\n    req.set('authorization', `Token ${token}`);\n  }\n}\n\nconst requests = {\n  del: url =>\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  get: url =>\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  put: (url, body) =>\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\n  post: (url, body) =>\n    superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\n};\n\nconst Auth = {\n  current: () =>\n    requests.get('/user'),\n  login: (email, password) =>\n    requests.post('/users/login', { user: { email, password } }),\n  register: (username, email, password) =>\n    requests.post('/users', { user: { username, email, password } }),\n  save: user =>\n    requests.put('/user', { user })\n};\n\nconst Tags = {\n  getAll: () => requests.get('/tags')\n};\n\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`;\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\nconst Articles = {\n  all: page =>\n    requests.get(`/articles?${limit(10, page)}`),\n  byAuthor: (author, page) =>\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\n  byTag: (tag, page) =>\n    requests.get(`/articles?tag=${encode(tag)}&${limit(10, page)}`),\n  del: slug =>\n    requests.del(`/articles/${slug}`),\n  favorite: slug =>\n    requests.post(`/articles/${slug}/favorite`),\n  favoritedBy: (author, page) =>\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\n  feed: () =>\n    requests.get('/articles/feed?limit=10&offset=0'),\n  get: slug =>\n    requests.get(`/articles/${slug}`),\n  unfavorite: slug =>\n    requests.del(`/articles/${slug}/favorite`),\n  update: article =>\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\n  create: article =>\n    requests.post('/articles', { article })\n};\n\nconst Comments = {\n  create: (slug, comment) =>\n    requests.post(`/articles/${slug}/comments`, { comment }),\n  delete: (slug, commentId) =>\n    requests.del(`/articles/${slug}/comments/${commentId}`),\n  forArticle: slug =>\n    requests.get(`/articles/${slug}/comments`)\n};\n\nconst Profile = {\n  follow: username =>\n    requests.post(`/profiles/${username}/follow`),\n  get: username =>\n    requests.get(`/profiles/${username}`),\n  unfollow: username =>\n    requests.del(`/profiles/${username}/follow`)\n};\n\nexport default {\n  Articles,\n  Auth,\n  Comments,\n  Profile,\n  Tags,\n  setToken: _token => { token = _token; }\n};\n","import Banner from './Banner';\nimport MainView from './MainView';\nimport React from 'react';\nimport Tags from './Tags';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport {\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  APPLY_TAG_FILTER\n} from '../../constants/actionTypes';\n\nconst Promise = global.Promise;\n\nconst mapStateToProps = state => ({\n  ...state.home,\n  appName: state.common.appName,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickTag: (tag, pager, payload) =>\n    dispatch({ type: APPLY_TAG_FILTER, tag, pager, payload }),\n  onLoad: (tab, pager, payload) =>\n    dispatch({ type: HOME_PAGE_LOADED, tab, pager, payload }),\n  onUnload: () =>\n    dispatch({  type: HOME_PAGE_UNLOADED })\n});\n\nclass Home extends React.Component {\n  componentWillMount() {\n    const tab = this.props.token ? 'feed' : 'all';\n    const articlesPromise = this.props.token ?\n      agent.Articles.feed :\n      agent.Articles.all;\n\n    this.props.onLoad(tab, articlesPromise, Promise.all([agent.Tags.getAll(), articlesPromise()]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"home-page\">\n\n        <Banner token={this.props.token} appName={this.props.appName} />\n\n        <div className=\"container page\">\n          <div className=\"row\">\n            <MainView />\n\n            <div className=\"col-md-3\">\n              <div className=\"sidebar\">\n\n                <p>Popular Tags</p>\n\n                <Tags\n                  tags={this.props.tags}\n                  onClickTag={this.props.onClickTag} />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React from 'react';\n\nconst Banner = ({ appName, token }) => {\n  if (token) {\n    return null;\n  }\n  return (\n    <div className=\"banner\">\n      <div className=\"container\">\n        <h1 className=\"logo-font\">\n          {appName.toLowerCase()}\n        </h1>\n        <p>A place to share your knowledge.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Banner;\n","import ArticleList from '../ArticleList';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { CHANGE_TAB } from '../../constants/actionTypes';\n\nconst YourFeedTab = props => {\n  if (props.token) {\n    const clickHandler = ev => {\n      ev.preventDefault();\n      props.onTabClick('feed', agent.Articles.feed, agent.Articles.feed());\n    }\n\n    return (\n      <li className=\"nav-item\">\n        <a  href=\"\"\n            className={ props.tab === 'feed' ? 'nav-link active' : 'nav-link' }\n            onClick={clickHandler}>\n          Your Feed\n        </a>\n      </li>\n    );\n  }\n  return null;\n};\n\nconst GlobalFeedTab = props => {\n  const clickHandler = ev => {\n    ev.preventDefault();\n    props.onTabClick('all', agent.Articles.all, agent.Articles.all());\n  };\n  return (\n    <li className=\"nav-item\">\n      <a\n        href=\"\"\n        className={ props.tab === 'all' ? 'nav-link active' : 'nav-link' }\n        onClick={clickHandler}>\n        Global Feed\n      </a>\n    </li>\n  );\n};\n\nconst TagFilterTab = props => {\n  if (!props.tag) {\n    return null;\n  }\n\n  return (\n    <li className=\"nav-item\">\n      <a href=\"\" className=\"nav-link active\">\n        <i className=\"ion-pound\"></i> {props.tag}\n      </a>\n    </li>\n  );\n};\n\nconst mapStateToProps = state => ({\n  ...state.articleList,\n  tags: state.home.tags,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onTabClick: (tab, pager, payload) => dispatch({ type: CHANGE_TAB, tab, pager, payload })\n});\n\nconst MainView = props => {\n  return (\n    <div className=\"col-md-9\">\n      <div className=\"feed-toggle\">\n        <ul className=\"nav nav-pills outline-active\">\n\n          <YourFeedTab\n            token={props.token}\n            tab={props.tab}\n            onTabClick={props.onTabClick} />\n\n          <GlobalFeedTab tab={props.tab} onTabClick={props.onTabClick} />\n\n          <TagFilterTab tag={props.tag} />\n\n        </ul>\n      </div>\n\n      <ArticleList\n        pager={props.pager}\n        articles={props.articles}\n        loading={props.loading}\n        articlesCount={props.articlesCount}\n        currentPage={props.currentPage} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainView);\n","import React from 'react';\nimport agent from '../../agent';\n\nconst Tags = props => {\n  const tags = props.tags;\n  if (tags) {\n    return (\n      <div className=\"tag-list\">\n        {\n          tags.map(tag => {\n            const handleClick = ev => {\n              ev.preventDefault();\n              props.onClickTag(tag, page => agent.Articles.byTag(tag, page), agent.Articles.byTag(tag));\n            };\n\n            return (\n              <a\n                href=\"\"\n                className=\"tag-default tag-pill\"\n                key={tag}\n                onClick={handleClick}>\n                {tag}\n              </a>\n            );\n          })\n        }\n      </div>\n    );\n  } else {\n    return (\n      <div>Loading Tags...</div>\n    );\n  }\n};\n\nexport default Tags;\n","import agent from './agent';\nimport {\n  ASYNC_START,\n  ASYNC_END,\n  LOGIN,\n  LOGOUT,\n  REGISTER\n} from './constants/actionTypes';\n\nconst promiseMiddleware = store => next => action => {\n  if (isPromise(action.payload)) {\n    store.dispatch({ type: ASYNC_START, subtype: action.type });\n\n    const currentView = store.getState().viewChangeCounter;\n    const skipTracking = action.skipTracking;\n\n    action.payload.then(\n      res => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('RESULT', res);\n        action.payload = res;\n        store.dispatch({ type: ASYNC_END, promise: action.payload });\n        store.dispatch(action);\n      },\n      error => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('ERROR', error);\n        action.error = true;\n        action.payload = error.response.body;\n        if (!action.skipTracking) {\n          store.dispatch({ type: ASYNC_END, promise: action.payload });\n        }\n        store.dispatch(action);\n      }\n    );\n\n    return;\n  }\n\n  next(action);\n};\n\nconst localStorageMiddleware = store => next => action => {\n  if (action.type === REGISTER || action.type === LOGIN) {\n    if (!action.error) {\n      window.localStorage.setItem('jwt', action.payload.user.token);\n      agent.setToken(action.payload.user.token);\n    }\n  } else if (action.type === LOGOUT) {\n    window.localStorage.setItem('jwt', '');\n    agent.setToken(null);\n  }\n\n  next(action);\n};\n\nfunction isPromise(v) {\n  return v && typeof v.then === 'function';\n}\n\n\nexport { promiseMiddleware, localStorageMiddleware }\n","import {\n  APP_LOAD,\n  REDIRECT,\n  LOGOUT,\n  ARTICLE_SUBMITTED,\n  SETTINGS_SAVED,\n  LOGIN,\n  REGISTER,\n  DELETE_ARTICLE,\n  ARTICLE_PAGE_UNLOADED,\n  EDITOR_PAGE_UNLOADED,\n  HOME_PAGE_UNLOADED,\n  PROFILE_PAGE_UNLOADED,\n  PROFILE_FAVORITES_PAGE_UNLOADED,\n  SETTINGS_PAGE_UNLOADED,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst defaultState = {\n  appName: 'Conduit',\n  token: null,\n  viewChangeCounter: 0\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case APP_LOAD:\n      return {\n        ...state,\n        token: action.token || null,\n        appLoaded: true,\n        currentUser: action.payload ? action.payload.user : null\n      };\n    case REDIRECT:\n      return { ...state, redirectTo: null };\n    case LOGOUT:\n      return { ...state, redirectTo: '/', token: null, currentUser: null };\n    case ARTICLE_SUBMITTED:\n      const redirectUrl = `/article/${action.payload.article.slug}`;\n      return { ...state, redirectTo: redirectUrl };\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        currentUser: action.error ? null : action.payload.user\n      };\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        token: action.error ? null : action.payload.user.token,\n        currentUser: action.error ? null : action.payload.user\n      };\n    case DELETE_ARTICLE:\n      return { ...state, redirectTo: '/' };\n    case ARTICLE_PAGE_UNLOADED:\n    case EDITOR_PAGE_UNLOADED:\n    case HOME_PAGE_UNLOADED:\n    case PROFILE_PAGE_UNLOADED:\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\n    case SETTINGS_PAGE_UNLOADED:\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return { ...state, viewChangeCounter: state.viewChangeCounter + 1 };\n    default:\n      return state;\n  }\n};\n","import article from './reducers/article';\nimport articleList from './reducers/articleList';\nimport auth from './reducers/auth';\nimport { combineReducers } from 'redux';\nimport common from './reducers/common';\nimport editor from './reducers/editor';\nimport home from './reducers/home';\nimport profile from './reducers/profile';\nimport settings from './reducers/settings';\nimport { routerReducer } from 'react-router-redux';\n\nexport default combineReducers({\n  article,\n  articleList,\n  auth,\n  common,\n  editor,\n  home,\n  profile,\n  settings,\n  router: routerReducer\n});\n","import {\n  ARTICLE_PAGE_LOADED,\n  ARTICLE_PAGE_UNLOADED,\n  ADD_COMMENT,\n  DELETE_COMMENT\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_PAGE_LOADED:\n      return {\n        ...state,\n        article: action.payload[0].article,\n        comments: action.payload[1].comments\n      };\n    case ARTICLE_PAGE_UNLOADED:\n      return {};\n    case ADD_COMMENT:\n      return {\n        ...state,\n        commentErrors: action.error ? action.payload.errors : null,\n        comments: action.error ?\n          null :\n          (state.comments || []).concat([action.payload.comment])\n      };\n    case DELETE_COMMENT:\n      const commentId = action.commentId\n      return {\n        ...state,\n        comments: state.comments.filter(comment => comment.id !== commentId)\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  ARTICLE_FAVORITED,\n  ARTICLE_UNFAVORITED,\n  SET_PAGE,\n  APPLY_TAG_FILTER,\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  CHANGE_TAB,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n  PROFILE_FAVORITES_PAGE_LOADED,\n  PROFILE_FAVORITES_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_FAVORITED:\n    case ARTICLE_UNFAVORITED:\n      return {\n        ...state,\n        articles: state.articles.map(article => {\n          if (article.slug === action.payload.article.slug) {\n            return {\n              ...article,\n              favorited: action.payload.article.favorited,\n              favoritesCount: action.payload.article.favoritesCount\n            };\n          }\n          return article;\n        })\n      };\n    case SET_PAGE:\n      return {\n        ...state,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        currentPage: action.page\n      };\n    case APPLY_TAG_FILTER:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        tab: null,\n        tag: action.tag,\n        currentPage: 0\n      };\n    case HOME_PAGE_LOADED:\n      return {\n        ...state,\n        pager: action.pager,\n        tags: action.payload[0].tags,\n        articles: action.payload[1].articles,\n        articlesCount: action.payload[1].articlesCount,\n        currentPage: 0,\n        tab: action.tab\n      };\n    case HOME_PAGE_UNLOADED:\n      return {};\n    case CHANGE_TAB:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload.articles,\n        articlesCount: action.payload.articlesCount,\n        tab: action.tab,\n        currentPage: 0,\n        tag: null\n      };\n    case PROFILE_PAGE_LOADED:\n    case PROFILE_FAVORITES_PAGE_LOADED:\n      return {\n        ...state,\n        pager: action.pager,\n        articles: action.payload[1].articles,\n        articlesCount: action.payload[1].articlesCount,\n        currentPage: 0\n      };\n    case PROFILE_PAGE_UNLOADED:\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\n      return {};\n    default:\n      return state;\n  }\n};\n","import {\n  LOGIN,\n  REGISTER,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER_PAGE_UNLOADED,\n  ASYNC_START,\n  UPDATE_FIELD_AUTH\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null\n      };\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return {};\n    case ASYNC_START:\n      if (action.subtype === LOGIN || action.subtype === REGISTER) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case UPDATE_FIELD_AUTH:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n","import {\n  EDITOR_PAGE_LOADED,\n  EDITOR_PAGE_UNLOADED,\n  ARTICLE_SUBMITTED,\n  ASYNC_START,\n  ADD_TAG,\n  REMOVE_TAG,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case EDITOR_PAGE_LOADED:\n      return {\n        ...state,\n        articleSlug: action.payload ? action.payload.article.slug : '',\n        title: action.payload ? action.payload.article.title : '',\n        description: action.payload ? action.payload.article.description : '',\n        body: action.payload ? action.payload.article.body : '',\n        tagInput: '',\n        tagList: action.payload ? action.payload.article.tagList : []\n      };\n    case EDITOR_PAGE_UNLOADED:\n      return {};\n    case ARTICLE_SUBMITTED:\n      return {\n        ...state,\n        inProgress: null,\n        errors: action.error ? action.payload.errors : null\n      };\n    case ASYNC_START:\n      if (action.subtype === ARTICLE_SUBMITTED) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case ADD_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.concat([state.tagInput]),\n        tagInput: ''\n      };\n    case REMOVE_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.filter(tag => tag !== action.tag)\n      };\n    case UPDATE_FIELD_EDITOR:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n","import { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case HOME_PAGE_LOADED:\n      return {\n        ...state,\n        tags: action.payload[0].tags\n      };\n    case HOME_PAGE_UNLOADED:\n      return {};\n    default:\n      return state;\n  }\n};\n","import {\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED,\n  FOLLOW_USER,\n  UNFOLLOW_USER\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case PROFILE_PAGE_LOADED:\n      return {\n        ...action.payload[0].profile\n      };\n    case PROFILE_PAGE_UNLOADED:\n      return {};\n    case FOLLOW_USER:\n    case UNFOLLOW_USER:\n      return {\n        ...action.payload.profile\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  ASYNC_START\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null\n      };\n    case SETTINGS_PAGE_UNLOADED:\n      return {};\n    case ASYNC_START:\n      return {\n        ...state,\n        inProgress: true\n      };\n    default:\n      return state;\n  }\n};\n","import { applyMiddleware, createStore } from 'redux';\nimport { createLogger } from 'redux-logger'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { promiseMiddleware, localStorageMiddleware } from './middleware';\nimport reducer from './reducer';\n\nimport { routerMiddleware } from 'react-router-redux'\nimport createHistory from 'history/createBrowserHistory';\n\nexport const history = createHistory();\n\n// Build the middleware for intercepting and dispatching navigation actions\nconst myRouterMiddleware = routerMiddleware(history);\n\nconst getMiddleware = () => {\n  if (process.env.NODE_ENV === 'production') {\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware);\n  } else {\n    // Enable additional logging in non-production environments.\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware, createLogger())\n  }\n};\n\nexport const store = createStore(\n  reducer, composeWithDevTools(getMiddleware()));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst LoggedOutView = props => {\n  if (!props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/login\" className=\"nav-link\">\n            Sign in\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/register\" className=\"nav-link\">\n            Sign up\n          </Link>\n        </li>\n\n      </ul>\n    );\n  }\n  return null;\n};\n\nconst LoggedInView = props => {\n  if (props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/editor\" className=\"nav-link\">\n            <i className=\"ion-compose\"></i>&nbsp;New Post\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/settings\" className=\"nav-link\">\n            <i className=\"ion-gear-a\"></i>&nbsp;Settings\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            to={`/@${props.currentUser.username}`}\n            className=\"nav-link\">\n            <img src={props.currentUser.image} className=\"user-pic\" alt={props.currentUser.username} />\n            {props.currentUser.username}\n          </Link>\n        </li>\n\n      </ul>\n    );\n  }\n\n  return null;\n};\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <nav className=\"navbar navbar-light\">\n        <div className=\"container\">\n\n          <Link to=\"/\" className=\"navbar-brand\">\n            {this.props.appName.toLowerCase()}\n          </Link>\n\n          <LoggedOutView currentUser={this.props.currentUser} />\n\n          <LoggedInView currentUser={this.props.currentUser} />\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Header;\n","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { DELETE_ARTICLE } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onClickDelete: payload =>\n    dispatch({ type: DELETE_ARTICLE, payload })\n});\n\nconst ArticleActions = props => {\n  const article = props.article;\n  const del = () => {\n    props.onClickDelete(agent.Articles.del(article.slug))\n  };\n  if (props.canModify) {\n    return (\n      <span>\n\n        <Link\n          to={`/editor/${article.slug}`}\n          className=\"btn btn-outline-secondary btn-sm\">\n          <i className=\"ion-edit\"></i> Edit Article\n        </Link>\n\n        <button className=\"btn btn-outline-danger btn-sm\" onClick={del}>\n          <i className=\"ion-trash-a\"></i> Delete Article\n        </button>\n\n      </span>\n    );\n  }\n\n  return (\n    <span>\n    </span>\n  );\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(ArticleActions);\n","import ArticleActions from './ArticleActions';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst ArticleMeta = props => {\n  const article = props.article;\n  return (\n    <div className=\"article-meta\">\n      <Link to={`/@${article.author.username}`}>\n        <img src={article.author.image} alt={article.author.username} />\n      </Link>\n\n      <div className=\"info\">\n        <Link to={`/@${article.author.username}`} className=\"author\">\n          {article.author.username}\n        </Link>\n        <span className=\"date\">\n          {new Date(article.createdAt).toDateString()}\n        </span>\n      </div>\n\n      <ArticleActions canModify={props.canModify} article={article} />\n    </div>\n  );\n};\n\nexport default ArticleMeta;\n","import React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { ADD_COMMENT } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onSubmit: payload =>\n    dispatch({ type: ADD_COMMENT, payload })\n});\n\nclass CommentInput extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      body: ''\n    };\n\n    this.setBody = ev => {\n      this.setState({ body: ev.target.value });\n    };\n\n    this.createComment = ev => {\n      ev.preventDefault();\n      const payload = agent.Comments.create(this.props.slug,\n        { body: this.state.body });\n      this.setState({ body: '' });\n      this.props.onSubmit(payload);\n    };\n  }\n\n  render() {\n    return (\n      <form className=\"card comment-form\" onSubmit={this.createComment}>\n        <div className=\"card-block\">\n          <textarea className=\"form-control\"\n            placeholder=\"Write a comment...\"\n            value={this.state.body}\n            onChange={this.setBody}\n            rows=\"3\">\n          </textarea>\n        </div>\n        <div className=\"card-footer\">\n          <img\n            src={this.props.currentUser.image}\n            className=\"comment-author-img\"\n            alt={this.props.currentUser.username} />\n          <button\n            className=\"btn btn-sm btn-primary\"\n            type=\"submit\">\n            Post Comment\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default connect(() => ({}), mapDispatchToProps)(CommentInput);\n","import React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { DELETE_COMMENT } from '../../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: (payload, commentId) =>\n    dispatch({ type: DELETE_COMMENT, payload, commentId })\n});\n\nconst DeleteButton = props => {\n  const del = () => {\n    const payload = agent.Comments.delete(props.slug, props.commentId);\n    props.onClick(payload, props.commentId);\n  };\n\n  if (props.show) {\n    return (\n      <span className=\"mod-options\">\n        <i className=\"ion-trash-a\" onClick={del}></i>\n      </span>\n    );\n  }\n  return null;\n};\n\nexport default connect(() => ({}), mapDispatchToProps)(DeleteButton);\n","import DeleteButton from './DeleteButton';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst Comment = props => {\n  const comment = props.comment;\n  const show = props.currentUser &&\n    props.currentUser.username === comment.author.username;\n  return (\n    <div className=\"card\">\n      <div className=\"card-block\">\n        <p className=\"card-text\">{comment.body}</p>\n      </div>\n      <div className=\"card-footer\">\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\">\n          <img src={comment.author.image} className=\"comment-author-img\" alt={comment.author.username} />\n        </Link>\n        &nbsp;\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\">\n          {comment.author.username}\n        </Link>\n        <span className=\"date-posted\">\n          {new Date(comment.createdAt).toDateString()}\n        </span>\n        <DeleteButton show={show} slug={props.slug} commentId={comment.id} />\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import Comment from './Comment';\nimport React from 'react';\n\nconst CommentList = props => {\n  return (\n    <div>\n      {\n        props.comments.map(comment => {\n          return (\n            <Comment\n              comment={comment}\n              currentUser={props.currentUser}\n              slug={props.slug}\n              key={comment.id} />\n          );\n        })\n      }\n    </div>\n  );\n};\n\nexport default CommentList;\n","import CommentInput from './CommentInput';\nimport CommentList from './CommentList';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst CommentContainer = props => {\n  if (props.currentUser) {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <div>\n          <list-errors errors={props.errors}></list-errors>\n          <CommentInput slug={props.slug} currentUser={props.currentUser} />\n        </div>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser} />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <p>\n          <Link to=\"/login\">Sign in</Link>\n          &nbsp;or&nbsp;\n          <Link to=\"/register\">sign up</Link>\n          &nbsp;to add comments on this article.\n        </p>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser} />\n      </div>\n    );\n  }\n};\n\nexport default CommentContainer;\n","import ArticleMeta from './ArticleMeta';\nimport CommentContainer from './CommentContainer';\nimport React from 'react';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport marked from 'marked';\nimport { ARTICLE_PAGE_LOADED, ARTICLE_PAGE_UNLOADED } from '../../constants/actionTypes';\n\nconst mapStateToProps = state => ({\n  ...state.article,\n  currentUser: state.common.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: payload =>\n    dispatch({ type: ARTICLE_PAGE_LOADED, payload }),\n  onUnload: () =>\n    dispatch({ type: ARTICLE_PAGE_UNLOADED })\n});\n\nclass Article extends React.Component {\n  componentWillMount() {\n    this.props.onLoad(Promise.all([\n      agent.Articles.get(this.props.match.params.id),\n      agent.Comments.forArticle(this.props.match.params.id)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    if (!this.props.article) {\n      return null;\n    }\n\n    const markup = { __html: marked(this.props.article.body, { sanitize: true }) };\n    const canModify = this.props.currentUser &&\n      this.props.currentUser.username === this.props.article.author.username;\n    return (\n      <div className=\"article-page\">\n\n        <div className=\"banner\">\n          <div className=\"container\">\n\n            <h1>{this.props.article.title}</h1>\n            <ArticleMeta\n              article={this.props.article}\n              canModify={canModify} />\n\n          </div>\n        </div>\n\n        <div className=\"container page\">\n\n          <div className=\"row article-content\">\n            <div className=\"col-xs-12\">\n\n              <div dangerouslySetInnerHTML={markup}></div>\n\n              <ul className=\"tag-list\">\n                {\n                  this.props.article.tagList.map(tag => {\n                    return (\n                      <li\n                        className=\"tag-default tag-pill tag-outline\"\n                        key={tag}>\n                        {tag}\n                      </li>\n                    );\n                  })\n                }\n              </ul>\n\n            </div>\n          </div>\n\n          <hr />\n\n          <div className=\"article-actions\">\n          </div>\n\n          <div className=\"row\">\n            <CommentContainer\n              comments={this.props.comments || []}\n              errors={this.props.commentErrors}\n              slug={this.props.match.params.id}\n              currentUser={this.props.currentUser} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Article);\n","import React from 'react';\n\nclass ListErrors extends React.Component {\n  render() {\n    const errors = this.props.errors;\n    if (errors) {\n      return (\n        <ul className=\"error-messages\">\n          {\n            Object.keys(errors).map(key => {\n              return (\n                <li key={key}>\n                  {key} {errors[key]}\n                </li>\n              );\n            })\n          }\n        </ul>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ListErrors;\n","import ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  ADD_TAG,\n  EDITOR_PAGE_LOADED,\n  REMOVE_TAG,\n  ARTICLE_SUBMITTED,\n  EDITOR_PAGE_UNLOADED,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({\n  ...state.editor\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddTag: () =>\n    dispatch({ type: ADD_TAG }),\n  onLoad: payload =>\n    dispatch({ type: EDITOR_PAGE_LOADED, payload }),\n  onRemoveTag: tag =>\n    dispatch({ type: REMOVE_TAG, tag }),\n  onSubmit: payload =>\n    dispatch({ type: ARTICLE_SUBMITTED, payload }),\n  onUnload: payload =>\n    dispatch({ type: EDITOR_PAGE_UNLOADED }),\n  onUpdateField: (key, value) =>\n    dispatch({ type: UPDATE_FIELD_EDITOR, key, value })\n});\n\nclass Editor extends React.Component {\n  constructor() {\n    super();\n\n    const updateFieldEvent =\n      key => ev => this.props.onUpdateField(key, ev.target.value);\n    this.changeTitle = updateFieldEvent('title');\n    this.changeDescription = updateFieldEvent('description');\n    this.changeBody = updateFieldEvent('body');\n    this.changeTagInput = updateFieldEvent('tagInput');\n\n    this.watchForEnter = ev => {\n      if (ev.keyCode === 13) {\n        ev.preventDefault();\n        this.props.onAddTag();\n      }\n    };\n\n    this.removeTagHandler = tag => () => {\n      this.props.onRemoveTag(tag);\n    };\n\n    this.submitForm = ev => {\n      ev.preventDefault();\n      const article = {\n        title: this.props.title,\n        description: this.props.description,\n        body: this.props.body,\n        tagList: this.props.tagList\n      };\n\n      const slug = { slug: this.props.articleSlug };\n      const promise = this.props.articleSlug ?\n        agent.Articles.update(Object.assign(article, slug)) :\n        agent.Articles.create(article);\n\n      this.props.onSubmit(promise);\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.match.params.slug !== nextProps.match.params.slug) {\n      if (nextProps.match.params.slug) {\n        this.props.onUnload();\n        return this.props.onLoad(agent.Articles.get(this.props.match.params.slug));\n      }\n      this.props.onLoad(null);\n    }\n  }\n\n  componentWillMount() {\n    if (this.props.match.params.slug) {\n      return this.props.onLoad(agent.Articles.get(this.props.match.params.slug));\n    }\n    this.props.onLoad(null);\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"editor-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-10 offset-md-1 col-xs-12\">\n\n              <ListErrors errors={this.props.errors}></ListErrors>\n\n              <form>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Article Title\"\n                      value={this.props.title}\n                      onChange={this.changeTitle} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"What's this article about?\"\n                      value={this.props.description}\n                      onChange={this.changeDescription} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <textarea\n                      className=\"form-control\"\n                      rows=\"8\"\n                      placeholder=\"Write your article (in markdown)\"\n                      value={this.props.body}\n                      onChange={this.changeBody}>\n                    </textarea>\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"Enter tags\"\n                      value={this.props.tagInput}\n                      onChange={this.changeTagInput}\n                      onKeyUp={this.watchForEnter} />\n\n                    <div className=\"tag-list\">\n                      {\n                        (this.props.tagList || []).map(tag => {\n                          return (\n                            <span className=\"tag-default tag-pill\" key={tag}>\n                              <i  className=\"ion-close-round\"\n                                  onClick={this.removeTagHandler(tag)}>\n                              </i>\n                              {tag}\n                            </span>\n                          );\n                        })\n                      }\n                    </div>\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg pull-xs-right btn-primary\"\n                    type=\"button\"\n                    disabled={this.props.inProgress}\n                    onClick={this.submitForm}>\n                    Publish Article\n                  </button>\n\n                </fieldset>\n              </form>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  UPDATE_FIELD_AUTH,\n  LOGIN,\n  LOGIN_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth });\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\n  onChangePassword: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n  onSubmit: (email, password) =>\n    dispatch({ type: LOGIN, payload: agent.Auth.login(email, password) }),\n  onUnload: () =>\n    dispatch({ type: LOGIN_PAGE_UNLOADED })\n});\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n    this.submitForm = (email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign In</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/register\">\n                  Need an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(email, password)}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={email}\n                      onChange={this.changeEmail} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={password}\n                      onChange={this.changePassword} />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}>\n                    Sign in\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import ArticleList from './ArticleList';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  FOLLOW_USER,\n  UNFOLLOW_USER,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst EditProfileSettings = props => {\n  if (props.isUser) {\n    return (\n      <Link\n        to=\"/settings\"\n        className=\"btn btn-sm btn-outline-secondary action-btn\">\n        <i className=\"ion-gear-a\"></i> Edit Profile Settings\n      </Link>\n    );\n  }\n  return null;\n};\n\nconst FollowUserButton = props => {\n  if (props.isUser) {\n    return null;\n  }\n\n  let classes = 'btn btn-sm action-btn';\n  if (props.user.following) {\n    classes += ' btn-secondary';\n  } else {\n    classes += ' btn-outline-secondary';\n  }\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (props.user.following) {\n      props.unfollow(props.user.username)\n    } else {\n      props.follow(props.user.username)\n    }\n  };\n\n  return (\n    <button\n      className={classes}\n      onClick={handleClick}>\n      <i className=\"ion-plus-round\"></i>\n      &nbsp;\n      {props.user.following ? 'Unfollow' : 'Follow'} {props.user.username}\n    </button>\n  );\n};\n\nconst mapStateToProps = state => ({\n  ...state.articleList,\n  currentUser: state.common.currentUser,\n  profile: state.profile\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onFollow: username => dispatch({\n    type: FOLLOW_USER,\n    payload: agent.Profile.follow(username)\n  }),\n  onLoad: payload => dispatch({ type: PROFILE_PAGE_LOADED, payload }),\n  onUnfollow: username => dispatch({\n    type: UNFOLLOW_USER,\n    payload: agent.Profile.unfollow(username)\n  }),\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED })\n});\n\nclass Profile extends React.Component {\n  componentWillMount() {\n    this.props.onLoad(Promise.all([\n      agent.Profile.get(this.props.match.params.username),\n      agent.Articles.byAuthor(this.props.match.params.username)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            to={`/@${this.props.profile.username}`}>\n            My Articles\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            to={`/@${this.props.profile.username}/favorites`}>\n            Favorited Articles\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  render() {\n    const profile = this.props.profile;\n    if (!profile) {\n      return null;\n    }\n\n    const isUser = this.props.currentUser &&\n      this.props.profile.username === this.props.currentUser.username;\n\n    return (\n      <div className=\"profile-page\">\n\n        <div className=\"user-info\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n                <img src={profile.image} className=\"user-img\" alt={profile.username} />\n                <h4>{profile.username}</h4>\n                <p>{profile.bio}</p>\n\n                <EditProfileSettings isUser={isUser} />\n                <FollowUserButton\n                  isUser={isUser}\n                  user={profile}\n                  follow={this.props.onFollow}\n                  unfollow={this.props.onUnfollow}\n                  />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n              <div className=\"articles-toggle\">\n                {this.renderTabs()}\n              </div>\n\n              <ArticleList\n                pager={this.props.pager}\n                articles={this.props.articles}\n                articlesCount={this.props.articlesCount}\n                state={this.props.currentPage} />\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\nexport { Profile, mapStateToProps };\n","import { Profile, mapStateToProps } from './Profile';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: (pager, payload) =>\n    dispatch({ type: PROFILE_PAGE_LOADED, pager, payload }),\n  onUnload: () =>\n    dispatch({ type: PROFILE_PAGE_UNLOADED })\n});\n\nclass ProfileFavorites extends Profile {\n  componentWillMount() {\n    this.props.onLoad(page => agent.Articles.favoritedBy(this.props.match.params.username, page), Promise.all([\n      agent.Profile.get(this.props.match.params.username),\n      agent.Articles.favoritedBy(this.props.match.params.username)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            to={`/@${this.props.profile.username}`}>\n            My Articles\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            to={`/@${this.props.profile.username}/favorites`}>\n            Favorited Articles\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileFavorites);\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  UPDATE_FIELD_AUTH,\n  REGISTER,\n  REGISTER_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth });\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\n  onChangePassword: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n  onChangeUsername: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\n  onSubmit: (username, email, password) => {\n    const payload = agent.Auth.register(username, email, password);\n    dispatch({ type: REGISTER, payload })\n  },\n  onUnload: () =>\n    dispatch({ type: REGISTER_PAGE_UNLOADED })\n});\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n    this.changeUsername = ev => this.props.onChangeUsername(ev.target.value);\n    this.submitForm = (username, email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(username, email, password);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    const username = this.props.username;\n\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign Up</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/login\">\n                  Have an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(username, email, password)}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      value={this.props.username}\n                      onChange={this.changeUsername} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={this.props.email}\n                      onChange={this.changeEmail} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={this.props.password}\n                      onChange={this.changePassword} />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}>\n                    Sign up\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  LOGOUT\n} from '../constants/actionTypes';\n\nclass SettingsForm extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      image: '',\n      username: '',\n      bio: '',\n      email: '',\n      password: ''\n    };\n\n    this.updateState = field => ev => {\n      const state = this.state;\n      const newState = Object.assign({}, state, { [field]: ev.target.value });\n      this.setState(newState);\n    };\n\n    this.submitForm = ev => {\n      ev.preventDefault();\n\n      const user = Object.assign({}, this.state);\n      if (!user.password) {\n        delete user.password;\n      }\n\n      this.props.onSubmitForm(user);\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.currentUser) {\n      Object.assign(this.state, {\n        image: this.props.currentUser.image || '',\n        username: this.props.currentUser.username,\n        bio: this.props.currentUser.bio,\n        email: this.props.currentUser.email\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser) {\n      this.setState(Object.assign({}, this.state, {\n        image: nextProps.currentUser.image || '',\n        username: nextProps.currentUser.username,\n        bio: nextProps.currentUser.bio,\n        email: nextProps.currentUser.email\n      }));\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.submitForm}>\n        <fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"URL of profile picture\"\n              value={this.state.image}\n              onChange={this.updateState('image')} />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"text\"\n              placeholder=\"Username\"\n              value={this.state.username}\n              onChange={this.updateState('username')} />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <textarea\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n              placeholder=\"Short bio about you\"\n              value={this.state.bio}\n              onChange={this.updateState('bio')}>\n            </textarea>\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={this.state.email}\n              onChange={this.updateState('email')} />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"password\"\n              placeholder=\"New Password\"\n              value={this.state.password}\n              onChange={this.updateState('password')} />\n          </fieldset>\n\n          <button\n            className=\"btn btn-lg btn-primary pull-xs-right\"\n            type=\"submit\"\n            disabled={this.state.inProgress}>\n            Update Settings\n          </button>\n\n        </fieldset>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state.settings,\n  currentUser: state.common.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickLogout: () => dispatch({ type: LOGOUT }),\n  onSubmitForm: user =>\n    dispatch({ type: SETTINGS_SAVED, payload: agent.Auth.save(user) }),\n  onUnload: () => dispatch({ type: SETTINGS_PAGE_UNLOADED })\n});\n\nclass Settings extends React.Component {\n  render() {\n    return (\n      <div className=\"settings-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n\n              <h1 className=\"text-xs-center\">Your Settings</h1>\n\n              <ListErrors errors={this.props.errors}></ListErrors>\n\n              <SettingsForm\n                currentUser={this.props.currentUser}\n                onSubmitForm={this.props.onSubmitForm} />\n\n              <hr />\n\n              <button\n                className=\"btn btn-outline-danger\"\n                onClick={this.props.onClickLogout}>\n                Or click here to logout.\n              </button>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import agent from '../agent';\nimport Header from './Header';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { APP_LOAD, REDIRECT } from '../constants/actionTypes';\nimport { Route, Switch } from 'react-router-dom';\nimport Article from '../components/Article';\nimport Editor from '../components/Editor';\nimport Home from '../components/Home';\nimport Login from '../components/Login';\nimport Profile from '../components/Profile';\nimport ProfileFavorites from '../components/ProfileFavorites';\nimport Register from '../components/Register';\nimport Settings from '../components/Settings';\nimport { store } from '../store';\nimport { push } from 'react-router-redux';\n\nconst mapStateToProps = state => {\n  return {\n    appLoaded: state.common.appLoaded,\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n    redirectTo: state.common.redirectTo\n  }\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: (payload, token) =>\n    dispatch({ type: APP_LOAD, payload, token, skipTracking: true }),\n  onRedirect: () =>\n    dispatch({ type: REDIRECT })\n});\n\nclass App extends React.Component {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.redirectTo) {\n      // this.context.router.replace(nextProps.redirectTo);\n      store.dispatch(push(nextProps.redirectTo));\n      this.props.onRedirect();\n    }\n  }\n\n  componentWillMount() {\n    const token = window.localStorage.getItem('jwt');\n    if (token) {\n      agent.setToken(token);\n    }\n\n    this.props.onLoad(token ? agent.Auth.current() : null, token);\n  }\n\n  render() {\n    if (this.props.appLoaded) {\n      return (\n        <div>\n          <Header\n            appName={this.props.appName}\n            currentUser={this.props.currentUser} />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/editor/:slug\" component={Editor} />\n            <Route path=\"/editor\" component={Editor} />\n            <Route path=\"/article/:id\" component={Article} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/@:username/favorites\" component={ProfileFavorites} />\n            <Route path=\"/@:username\" component={Profile} />\n          </Switch>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Header\n          appName={this.props.appName}\n          currentUser={this.props.currentUser} />\n      </div>\n    );\n  }\n}\n\n// App.contextTypes = {\n//   router: PropTypes.object.isRequired\n// };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport { store, history} from './store';\n\nimport { Route, Switch } from 'react-router-dom';\nimport { ConnectedRouter } from 'react-router-redux';\n\nimport App from './components/App';\n\nReactDOM.render((\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <Switch>\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </ConnectedRouter>\n  </Provider>\n\n), document.getElementById('root'));\n"],"sourceRoot":""}